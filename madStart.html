<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>start</title>
  <style media="screen">
    * {
      border: 1px solid red;
    }

    body {
      background-color: rgb(86, 29, 204);
      display: flex;
      align-items: center;
      flex-direction: column;
      justify-content: center;
      color: rgb(33, 50, 111);
      font-family: sans-serif;
    }

    div {
      padding: 2em;
      background-color: rgb(116, 98, 153);
      width: 60%;
      /* margin-bottom: 1em; */
    }

    p {
      padding: 1em;
      font-size: 2em;
      background-color: rgb(204, 116, 29);
    }

    button {
      background-color: rgb(255, 206, 125);
      color: inherit;
      width: 30%;
      font-size: 1.5em;
      border-radius: 2em;
      padding: 0.5em;
      margin-top: 1em;
      cursor: pointer;
    }

    input {
      font-size: inherit;
    }

    .displayBlock {
      display: block;
    }

    .displayNone {
      display: none;
    }

    .warning {
      background-color: red;
    }
  </style>
</head>

<body>
  <div id="inputPanel">
    <h3>Mad libs game</h3>
    <p> Name:
      <input id="firstName" type="text" placeholder="Name" name"" value"">
    </p>
    <p>Noun:
      <input id="favMovie" type="text" placeholder="Noun">
    </p>
    <p>Number:
      <input id="place" type="text" placeholder="Number">
    </p>
    <button id="submit">Submit</button>
    <p id="warning">Please answer all questions.</p>

  </div>
  <div id="outputPanel">
    <p>Your story....</p>
    <p id="theStory1"></p>
    <p id="theStory2"></p>
    <p id="theStory3"></p>
    <button id="again">Again?</button>
  </div>
  <script>
  let inputPanel = document.querySelector('#inputPanel')
  let outputPanel = document.querySelector('#outputPanel')
  let warning = document.querySelector('#warning')
  let submit = document.querySelector('#submit')
  let again = document.querySelector('#again')
  let firstName = document.querySelector('#firstName')
  let faveMovie = document.querySelector('#faveMovie')
  let place = document.querySelector('#place')
  let theStory1 = document.querySelector('#theStory1')
  let theStory2 = document.querySelector('#theStory2')
  let theStory3 = document.querySelector('#theStory3')
  //butten event listeners
  // submit.addEventListener('click', writeStory, false)
  submit.addEventListener('click', checkComplete, false)
  again.addEventListener('click', resetPage, false)

  window.addEventListener('keydown  ',keyDownHandler, false)

  outputPanel.className = "displayNone"
  warning.className = "displayNone"
  firstName.focus()

  function keyDownHandler(evt){
    //do something when the enter key is pressed
    //enter keycode: 13
    console.log(evt.keyCode);
    if (evt.keyCode == 13){
      console.log('enter pressed');
      checkComplete()

    }
  }


    //variables to hold references to markup elements
    // let outputPanel = document.querySelector('#outputPanel')
    // outputPanel.className = "displayNone"
    // let warning.className = document.querySelector('.warning')
    // warning.className = "displayNone"
// ///////////////////////////
    // let submit = document.querySelector('#submit')
    // submit.addEventListener('click', changeClass, false)
    //
    // function changeClass() {
    //   if (inputPanel.className == 'displayNone') {
    //     inputPanel.className = 'displayblock'
    //   } else {
    //     inputPanel.className = 'displayNone'
    //
    //   }
    // }


    // let again = document.querySelector('#again')
    // again.addEventListener('click', resetPage, false)\

    ///////////////////////// again button?
    // again.addEventListener('click', reset, false)
    // function reset(){
    //   if (outputPanel.className =='displayNone'){
    //     outputPanel..className = 'displayBlock'
    //   } else {
    //     outputPanel.className =  'displayNone'
    //   }
    // }




    // let again = document.querySelector('#again')
    // again.addEventListener('click', processForm, false)





    function processForm() {
    //   theStory.className = 'displayBlock'
    //   let firstNameText = firstNameText.value
    //   theStory.textContent = "Welcome, "
    //   theStory.textContent += firstNameText
    //   firstName.textContent += ". Are we friends?"
    }




    //button event listeners

    //action functions
    function checkComplete() {
      //verify the user filled in the form
      if(firstName.value == ""){
        warning.textContent = "provide a name"
        warning.className = "displayBlock"
      } else if (favMovie.value == "") {
        warning.textContent = "provide a movie"
        warning.className = "displayBlock"
      } else if (place.value == "") {
        warning.textContent = "provide a place"
        warning.className = "displayBlock"
      } else {
        writeStory()
      }

    }

    function writeStory() {
      //grab the input values to write the story
      console.log("writeStory");
      let finishedStory1 = ""
      let finishedStory2 = ""
      let finishedStory3 = ""
      finishedStory1 += "The " + favMovie.value +  " Pizza was invinted by "  + firstName.value +"."
      finishedStory1 += " "
      finishedStory2 += "The secret ingedient is easy, just take a lump of " + favMovie.value + " and toss it on the pie"
      finishedStory3 +=  firstName.value + " Holds the record for eating " + place.value + " slices in one hour. I bet you cant eat just one " 

      theStory1.textContent = finishedStory1
      theStory2.textContent = finishedStory2
      theStory3.textContent = finishedStory3

      inputPanel.className = "displayNone"
      outputPanel.className ="displayBlock"





    }

    // let again = document.querySelector('#again')
    // again.addEventListener('click', resetPage, false)

    function resetPage() {
      console.log("resetPage");

      inputPanel.className = "displayBlock"
      outputPanel.className ="displayNone"
      warning.className = "displayNone"

      firstName.value = ""
      favMovie.value = ""
      place.value = ""

      // if (inputPanel.className == 'displayNone') {
      //   inputPanel.className = 'displayblock'
      // } else {
      //   inputPanel.className = 'displayNone'
      //
      // }
      // put stuff here to reset the page so the user can try again

    }
  </script>
</body>

</html>
